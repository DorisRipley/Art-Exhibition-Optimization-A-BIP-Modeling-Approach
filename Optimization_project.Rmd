---
title: "The Exhibition "
subtitle: "Optimization Project"
author: Doris Pernia Ripley
header-includes:
  - \usepackage{seqsplit}
  - \usepackage{listings}
  - \lstset{breaklines=true, breakatwhitespace=true}

output: 
  pdf_document:
    latex_engine: xelatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



It had been a dream come true for Josh Riggs, a struggling artist living in the San Francisco Bay Area. He had made a trip to the corner grocery store late one Friday afternoon to buy some milk, and on impulse, he had also purchased a California lottery ticket. One week later, he was a millionaire. 

Josh did not want to squander his winnings on materialistic, trivial items. Instead he wanted to use his money to support his true passion: art. Josh knew all too well the difficulties of gaining recognition as an artist in this postindustrial, technological society where artistic appreciation is rare and financial support even rarer. He therefore decided to use the money to fund an exhibit of up-and-coming modern artists at the San Francisco Museum of Modern Art. 

  Josh approached the museum directors with his idea, and the directors became excited immediately after he informed them that he would fund the entire exhibit in addition to donating $1 million to the museum. Celeste McKenzie, a museum director, was assigned to work with Josh in planning the exhibit. The exhibit was slated to open one year from the time Josh met with the directors, and the exhibit pieces would remain on display for two months. 
  
  Josh began the project by combing the modern art community for potential artists and pieces. He presented the following list of artists, their pieces, and the price of displaying each piece to Celeste. 



| Artist        | Piece                                               | Price   |
|---------------|-----------------------------------------------------|---------|
|Colin Zweibell|"Perfection" (A wire mesh sculpture of the human body)|$300,000|
|               |"Burden" (A wire mesh sculpture of a mule)           |$250,000|
|               |"The Great Equalizer" (A wire mesh sculpture of a gun)|$125,000|
|\midrule Rita Losky|"Chaos Reigns" (A series of computer-generated drawings)|$400,000|
|               |"Who Has Control?" (A computer-generated drawing)   |$500,000|
|               |"Domestication" (A pen-and-ink drawing of a house) |$400,000|
|               |"Innocence" (A pen-and-ink drawing of a child)     |$550,000|
|\midrule Norm Marson|"Aging Earth" (A sculpture of trash covering)|$700,000|
|               |"Wasted Resources" (A collage of various packaging materials)|$575,000|
|\midrule Robert Bayer|"Void" (An all black oil painting)          |$150,000|
|               |"Sun" (An all yellow oil painting)                 |$150,000|
|\midrule Bill Reynolds|"Beyond" (A science fiction oil painting) |$650,000|
|               | "Pioneers" (An oil painting of three astronauts)  |$650,000|
|\midrule Candy Tate|"Serenity" (An all blue watercolor painting) |$200,000|
|               | "Calm Before the Storm" (A painting with blue watercolor)|$225,000|
|\midrule David Lyman |"Storefront Window" (A photo-realistic painting)|$850,000|
|               |"Harley" (A photo-realistic painting)               |$750,000|
|\midrule Angie Oldman|"Consumerism" (A collage of magazine advertisements)|$400,000|
|               |"Reflection" (A mirror, considered a sculpture)     |$175,000|
|               |"Trojan Victory" (A wooden sculpture)               |$450,000 |
|\midrule Rick Rawls|"Rick" (A photo-realistic self-portrait painting)|$500,000|
|               |"Rick II" (A cubist self-portrait painting)         |$500,000|
|               |"Rick III" (An expressionist self-portrait painting)|$500,000|
|\midrule Bear Canton|"Wisdom" (A pen-and-ink drawing)             |$250,000|
|               |"Superior Powers" (A pen-and-ink drawing)          |$350,000|
|               |"Living Land" (An oil painting of the Grand Canyon)|$450,000|
|\midrule Helen Row|"Study of a Violin" (A cubist painting of a violin)|$400,000|
|               |"Study of a Fruit Bowl" (A cubist painting of a bowl of fruit)|$400,000|
|\midrule Ziggy Lite|"My Namesake" (A collage of Ziggy cartoons)  |$300,000|
|               |"Narcissism" (A collage of photographs)             |$300,000|
|\midrule Josh Riggs[^1]| "All That Glitters" (A watercolor painting)|$50,000|
|               |"The Rock" (A watercolor painting of Alcatraz)      |$50,000|
|               |"Winding Road" (A watercolor painting)              |$50,000|
|               |"Dreams Come True" (A watercolor painting)          |$50,000|

[^1]: Josh does not require personal compensation, and the cost for moving his pieces to the museum from his home in San Francisco is minimal. The cost of displaying his pieces therefore only includes the cost of constructing the display and insuring the pieces.

Josh possesses certain requirements for the exhibit. He believes the majority of Americans lack adequate knowledge of art and artistic styles, and he wants the exhibit to educate Americans. Josh wants visitors to become aware of the collage as an art form, but he believes collages require little talent. He therefore decides to include only one collage. Additionally, Josh wants viewers to compare the delicate lines in a three-dimensional wire mesh sculpture to the delicate lines in a two-dimensional computer-generated drawing. He therefore wants at least one wire mesh sculpture displayed if a computer-generated drawing is displayed. Alternatively, he wants at least one computer-generated drawing displayed if a wire mesh sculpture is displayed. Furthermore, Josh wants to expose viewers to all painting styles, but he wants to limit the number of paintings displayed to achieve a balance in the exhibit between paintings and other art forms. He therefore decides to include at least one photo- realistic painting, at least one cubist painting, at least one expressionist painting, at least one watercolor painting, and at least one oil painting. At the same time, he wants the number of paintings to be no greater than twice the number of other art forms.

Josh wants all his own paintings included in the exhibit since he is sponsoring the exhibit and since his paintings celebrate the San Francisco Bay Area, the home of the exhibit.

Josh possesses personal biases for and against some artists. Josh is currently having a steamy affair with Candy Tate, and he wants both of her paintings displayed. Josh counts both David Lyman and Rick Rawls as his best friends, and he does not want to play favorites among these two artists. He therefore decides to display as many pieces from David Lyman as from Rick Rawls and to display at least one piece from each of them. Although Ziggy Lite is very popular within art circles, Josh believes Ziggy makes a mockery of art. Josh will therefore only accept one display piece from Ziggy, if any at all.
Celeste also possesses her own agenda for the exhibit. As a museum director, she is interested in representing a diverse population of artists, appealing to a wide audience, and creating a politically correct exhibit. To advance feminism, she decides to include at least one piece from a female artist for every two pieces included from a male artist. To advance environmentalism, she decides to include either one or both of the pieces “Aging Earth” and “Wasted Resources.” To advance Native American rights, she decides to include at least one piece by Bear Canton. To advance science, she decides to include at least one of the following pieces: “Chaos Reigns,” “Who Has Control,” “Beyond,” and “Pioneers.”

Celeste also understands that space is limited at the museum. The museum only has enough floor space for four sculptures and enough wall space for 20 paintings, collages, and drawings.

Finally, Celeste decides that if “Narcissism” is displayed, “Reflection” should also be displayed since “Reflection” also suggests narcissism.
Please explore the following questions independently except where otherwise indicated.

1. Josh decides to allocate $4 million to fund the exhibit. Given the pieces available and the specific requirements from Josh and Celeste, formulate and solve a BIP model to maximize the number of pieces displayed in the exhibit without exceeding the budget. How many pieces are displayed? Which pieces are displayed?

2. To ensure that the exhibit draws the attention of the public, Celeste decides that it must include at least 20 pieces. Formulate and solve a BIP model to minimize the cost of the exhibit while displaying at least 20 pieces and meeting the requirements set by Josh and Celeste. How much does the exhibit cost? Which pieces are displayed?

3. An influential patron of Rita Losky’s work who chairs the Museum Board of Directors learns that Celeste requires at least 20 pieces in the exhibit. He offers to pay the minimum amount required on top of Josh’s $4 million to ensure that exactly 20 pieces are displayed in the exhibit and that all of Rita’s pieces are displayed. How much does the patron have to pay? Which pieces are displayed?

## Solution

**Part 1 **

To formulate the problem as a Binary Integer Programming (BIP) model, we need to define decision variables, the objective function, and constraints based on the given requirements.


**Decision Variables:** Let be $x_i$ the $i^{th}$ work of art in the table above, for $i = 1,...,34$, where $x_i = 1$ if the artwork is included and $0$ otherwise.

**Objective function:** Maximize: $$Z = \sum_{i=1}^{34} x_i$$


**Constraints:** 

- Collage Constraint: $x_9+x_{16}+x_{29}+x_{30} = 1$

We are going to use the bigM Method to model the constrains. Lets define the following variables:
$y_1$ a binary variable that is 1 if any computer generated drawings are used and $0$ otherwise.
$y_2$ a binary variable that is 1 if for wire mesh sculptures and $0$ otherwise.
$bigM$ a large enough constant.

Now we can define the other constrains 

  a. $x_1+x_2+x_3 \leq bigM*y_2$

  b. $x_1+x_2+x_3 \geq y_2$

  c. $x_4+x_5 \leq bigM*y_1$

  d. $x_4+x_5 \geq y_1$

  - $y_2+(1-y_1)\leq 1$

  - $y_1+(1-y_2)\leq 1$

  - Photo-realistic painting constraint: $x_{15} + x_{16} + x_{20} \geq 1$

  - Cubist painting constraint: $x_{21} + x_{26} + x_{27} \geq 1$

  - Expressionist painting constraint: $x_{22} = 1$

  - Watercolor painting constraint: $x_{13} + x_{14} + x_{30} + x_{31} + x_{32} + x_{33} \geq 1$

  - Oil painting constraint: $x_{9} + x_{10} + x_{11} + x_{12} + x_{25} \geq 1$

  - Paintings vs. other art forms constraint: $paintings \leq 2 \times other_art_forms$

  - Josh's paintings constraint: $x_{30} + x_{31} + x_{32} + x_{33} = 4$

  - Candy Tate's paintings constraint: $x_{13} + x_{14} = 2$

  - David Lyman and Rick Rawls constraint: $x_{15} + x_{16} - x_{20} - x_{21} - x_{22} = 0$

  - David Lyman constraint: $x_{15} + x_{16} \geq 1$

  - Rick Rawls constraint: $x_{20} + x_{21} + x_{22} \geq 1$

  - Ziggy Lite constraint: $x_{28} + x_{29} \leq 1$

- Gender ratio constraint:

$2  (x_3 + x_4 + x_5 + x_6 + x_{13} + x_{14} + x_{17} + x_{18} + x_{19} + x_{23} + x_{24} + x_{25} + x_{26} + x_{27}) \geq (x_0 + x_1 + x_2 + x_7 + x_8 + x_9 + x_{10} + x_{11} + x_{12} + x_{15} + x_{16} + x_{20} + x_{21} + x_{22} + x_{28} + x_{29} + x_{30} + x_{31} + x_{32} + x_{33})$

- Environmental pieces constraint: $x_{7} + x_{8} \geq 1$

- Bear Canton constraint: $x_{23} + x_{24} + x_{25} \geq 1$

- Science-related pieces constraint: $x_{3} + x_{4} + x_{11} + x_{12} \geq 1$

- Space constraints

- Sculpture Space Constraint:

$(x_0 + x_1 + x_2 + x_7 + x_{18} + x_{19}) \leq 4$

- Paintings, Collages, and Drawings Space Constraint:

$(x_3 + x_4 + x_5 + x_6 + x_8 + x_9 + x_{10} + x_{11} + x_{12} + x_{13} + x_{14} + x_{15} + x_{16} + x_{17} + x_{20} + x_{21} + x_{22} + x_{23} + x_{24} + x_{25} + x_{26} + x_{27} + x_{28} + x_{29} + x_{30} + x_{31} + x_{32} + x_{33}) \leq 20$


- Narcissism-Reflection constraint: $x_{18} \geq x_{29}$

- Cost
$$\sum_{i=1}^{34} c_ix_i \leq 4000000$$, where $c_i$ is the cost of artwork $i$.

this problem was solved in Python, the code is as follows.


```{r, eval=FALSE}

from pulp import *
from prettytable import PrettyTable

# Updated data

artists = [
    ("Colin Zweibell", "Perfection", 300000, "sculpture", "male"),
    ("Colin Zweibell", "Burden", 250000, "sculpture", "male"),
    ("Colin Zweibell", "The Great Equalizer", 125000, "sculpture", "male"),
    ("Rita Losky", "Chaos Reigns", 400000, "drawing", "female"),
    ("Rita Losky", "Who Has Control?", 500000, "drawing", "female"),
    ("Rita Losky", "Domestication", 400000, "drawing", "female"),
    ("Rita Losky", "Innocence", 550000, "drawing", "female"),
    ("Norm Marson", "Aging Earth", 700000, "sculpture", "male"),
    ("Norm Marson", "Wasted Resources", 575000, "collage", "male"),
    ("Robert Bayer", "Void", 150000, "painting", "male"),
    ("Robert Bayer", "Sun", 150000, "painting", "male"),
    ("Bill Reynolds", "Beyond", 650000, "painting", "male"),
    ("Bill Reynolds", "Pioneers", 650000, "painting", "male"),
    ("Candy Tate", "Serenity", 200000, "painting", "female"),
    ("Candy Tate", "Calm Before the Storm", 225000, "painting", "female"),
    ("David Lyman", "Storefront Window", 850000, "painting", "male"),
    ("David Lyman", "Harley", 750000, "painting", "male"),
    ("Angie Oldman", "Consumerism", 400000, "collage", "female"),
    ("Angie Oldman", "Reflection", 175000, "sculpture", "female"),
    ("Angie Oldman", "Trojan Victory", 450000, "sculpture", "female"),
    ("Rick Rawls", "Rick", 500000, "painting", "male"),
    ("Rick Rawls", "Rick II", 500000, "painting", "male"),
    ("Rick Rawls", "Rick III", 500000, "painting", "male"),
    ("Bear Canton", "Wisdom", 250000, "drawing", "female"),
    ("Bear Canton", "Superior Powers", 350000, "drawing", "female"),
    ("Bear Canton", "Living Land", 450000, "painting", "female"),
    ("Helen Row", "Study of a Violin", 400000, "painting", "female"),
    ("Helen Row", "Study of a Fruit Bowl", 400000, "painting", "female"),
    ("Ziggy Lite", "My Namesake", 300000, "collage", "male"),
    ("Ziggy Lite", "Narcissism", 300000, "collage", "male"),
    ("Josh Riggs", "All That Glitters", 50000, "painting", "male"),
    ("Josh Riggs", "The Rock", 50000, "painting", "male"),
    ("Josh Riggs", "Winding Road", 50000, "painting", "male"),
    ("Josh Riggs", "Dreams Come True", 50000, "painting", "male")
]

x = [LpVariable(f'x{i}', lowBound = 0, upBound = 1, cat='Integer') 
     for i in range(len(artists))]

# Initialize the problem

prob = LpProblem("Art_Gallery_Problem", LpMaximize)

# Objective Function

prob += lpSum(x), "Maximize number of artworks"

# Artistic constraints

#  Include only one collage
prob += x[8] + x[17] + x[28] + x[29] == 1, "Collage Constraint"

# Add binary variables for computer-generated drawings and wire mesh sculptures
y1 = LpVariable("y1", lowBound = 0, upBound = 1, cat='Integer')
y2 = LpVariable("y2", lowBound = 0, upBound = 1, cat='Integer')

bigM = 1000000 
# a. x1 + x2 + x3 <= bigM * y2
prob += x[0] + x[1] + x[2] <= bigM * y2

# b. x1 + x2 + x3 => y2
prob += x[0] + x[1] + x[2] >= y2

# c. x4 + x5 <= bigM * y1
prob += x[3] + x[4] <= bigM * y1

# d. x4 + x5 => y1
prob +=  x[3] + x[4] >= y1

# 2. y2 + (1 - y1) <= 1
prob += y2 + (1 - y1) <= 1

# 3. y1 + (1 - y2) <= 1
prob += y1 + (1 - y2) <= 1

# Include at least one photo-realistic painting, at least one cubist painting, 
# at least one expressionist painting, at least one watercolor painting, 
# and at least one oil painting

# Photo-realistic painting

prob += x[15] + x[16] + x[20] >= 1, "Photo-realistic Painting Constraint"

# Cubist painting

prob += x[21] + x[26] + x[27] >= 1, "Cubist Painting Constraint"

# Expressionist painting

prob += x[22] == 1, "Expressionist Painting Constraint"

# Watercolor painting

prob += x[13] + x[14] + x[30] + x[31] + x[32] + x[33] >= 1, "Watercolor Painting Constraint"

# Oil painting

prob += x[9] + x[10] + x[11] + x[12] + x[25] >= 1, "Oil Painting Constraint"

# The number of paintings should be no greater than twice the number of other art forms

paintings = (x[9] + x[10] + x[11] + x[12] + x[13] + x[14] + x[15] + x[16] + x[20] + x[21]
            + x[22] + x[25] + x[26] + x[27] + x[30] + x[31] + x[32] + x[33])
other_art_forms = (x[0] + x[1] + x[2] + x[3] + x[4] + x[5] + x[6] + x[7] + x[8] + x[17]
                  + x[18] + x[19] + x[23] + x[24]+ x[28] + x[29])

prob += paintings <= 2 * other_art_forms, "Paintings vs Other Art Forms Constraint"

# Include all Josh's paintings in the exhibit

prob += x[30] + x[31] + x[32] + x[33] == 4, "Josh's Paintings Constraint"

#  Display both of Candy Tate's paintings

prob += x[13] + x[14] == 2, "Candy Tate's Paintings Constraint"

# Display as many pieces from David Lyman as from Rick Rawls, and at least 
# one piece from each of them

prob += x[15] + x[16] - x[20] - x[21] - x[22] == 0, "David Lyman and Rick Rawls Constraint"
prob += x[15] + x[16] >= 1, "David Lyman Constraint"
prob += x[20] + x[21] + x[22] >= 1, "Rick Rawls Constraint"

#  Display at most one piece from Ziggy Lite

prob += x[28] + x[29] <= 1, "Ziggy Lite Constraint"

#  Include at least one piece from a female artist for every two pieces included from
# a male artist

female_artists = (x[3] + x[4] + x[5] + x[6] + x[13] + x[14] + x[17] + x[18] + x[19] 
                + x[23] + x[24] + x[25] + x[26] + x[27])
male_artists = (x[0] + x[1] + x[2] + x[7] + x[8] + x[9] + x[10] + x[11] + x[12]
              + x[15] + x[16] + x[20] + x[21] + x[22] + x[28] + x[29] + x[30]
              + x[31] + x[32] + x[33])

prob += female_artists * 2 >= male_artists, "Gender Ratio Constraint"

#  Include either one or both of the pieces "Aging Earth" and "Wasted Resources"

prob += x[7] + x[8] >= 1, "Environmental Pieces Constraint"

#  Include at least one piece by Bear Canton

prob += x[23] + x[24] + x[25] >= 1, "Bear Canton Constraint"

#  Include at least one of the following pieces: "Chaos Reigns," "Who Has Control,
# " "Beyond," and "Pioneers."

prob += x[3] + x[4] + x[11] + x[12] >= 1, "Science-related Pieces Constraint"

#  The museum has enough floor space for four sculptures and enough wall space for 20 
# paintings, collages, and drawings.

sculptures = x[0] + x[1] + x[2] + x[7] + x[18] + x[19]
paintings_drawings_collages = (x[3] + x[4] + x[5] + x[6] + x[8] + x[9] + x[10]
                              + x[11] + x[12] + x[13] + x[14] + x[15] + x[16]
                              + x[17] + x[20] + x[21] + x[22] + x[23] + x[24]
                              + x[25] + x[26] + x[27] + x[28] + x[29] + x[30]
                              + x[31] + x[32] + x[33])

prob += sculptures <= 4, "Sculpture Space Constraint"
prob += paintings_drawings_collages <= 20, "Paintings, Collages, and Drawings Space"

#  If "Narcissism" is displayed, "Reflection" should also be displayed.

prob += x[18] >= x[29], "Narcissism-Reflection Constraint"

# Cost Constrains

cost_constraint = 0
for i, (_, _, cost, _, _) in enumerate(artists):
    cost_constraint += cost * x[i]

prob += cost_constraint <= 4000000, "Budget Constraint"

# Display the results

print(prob)
prob.solve()
print("Status:", LpStatus[prob.status])
print("Objective = ", value(prob.objective))
print("\nSelected Pieces:")

table = PrettyTable()
table.field_names = ["Artist", "Piece", "Category", "Price", "Gender"]
for i, var in enumerate(x):
    if value(var) > 0:
        artist, piece, price, category, gender = artists[i]
        table.add_row([artist, piece, category, price, gender])
print(table)
```

Here are the results,

```{r, eval=FALSE}
Art_Gallery_Problem:
  
MAXIMIZE
1*x0 + 1*x1 + 1*x10 + 1*x11 + 1*x12 + 1*x13 + 1*x14 + 1*x15 + 1*x16 + 1*x17 + 1*x18
+ 1*x19 + 1*x2 + 1*x20 + 1*x21 + 1*x22 + 1*x23 + 1*x24 + 1*x25 + 1*x26 + 1*x27
+ 1*x28+ 1*x29 + 1*x3 + 1*x30 + 1*x31 + 1*x32 + 1*x33 + 1*x4 + 1*x5 + 1*x6
+ 1*x7 + 1*x8 + 1*x9 + 0

SUBJECT TO
Collage_Constraint: x17 + x28 + x29 + x8 = 1

_C1: x0 + x1 + x2 - 1000000 y2 <= 0

_C2: x0 + x1 + x2 - y2 >= 0

_C3: x3 + x4 - 1000000 y1 <= 0

_C4: x3 + x4 - y1 >= 0

_C5: - y1 + y2 <= 0

_C6: y1 - y2 <= 0

Photo_realistic_Painting_Constraint: x15 + x16 + x20 >= 1

Cubist_Painting_Constraint: x21 + x26 + x27 >= 1

Expressionist_Painting_Constraint: x22 = 1

Watercolor_Painting_Constraint: x13 + x14 + x30 + x31 + x32 + x33 >= 1

Oil_Painting_Constraint: x10 + x11 + x12 + x25 + x9 >= 1

Paintings_vs_Other_Art_Forms_Constraint: - 2 x0 - 2 x1 + x10 + x11 + x12 + x13
 + x14 + x15 + x16 - 2 x17 - 2 x18 - 2 x19 - 2 x2 + x20 + x21 + x22 - 2 x23
 - 2 x24 + x25 + x26 + x27 - 2 x28 - 2 x29 - 2 x3 + x30 + x31 + x32 + x33
 - 2 x4 - 2 x5 - 2 x6 - 2 x7 - 2 x8 + x9 <= 0

Josh's_Paintings_Constraint: x30 + x31 + x32 + x33 = 4

Candy_Tate's_Paintings_Constraint: x13 + x14 = 2

David_Lyman_and_Rick_Rawls_Constraint: x15 + x16 - x20 - x21 - x22 = 0

David_Lyman_Constraint: x15 + x16 >= 1

Rick_Rawls_Constraint: x20 + x21 + x22 >= 1

Ziggy_Lite_Constraint: x28 + x29 <= 1

Gender_Ratio_Constraint: - x0 - x1 - x10 - x11 - x12 + 2 x13 + 2 x14 - x15
 - x16 + 2 x17 + 2 x18 + 2 x19 - x2 - x20 - x21 - x22 + 2 x23 + 2 x24 + 2 x25
 + 2 x26 + 2 x27 - x28 - x29 + 2 x3 - x30 - x31 - x32 - x33 + 2 x4 + 2 x5
 + 2 x6 - x7 - x8 - x9 >= 0

Environmental_Pieces_Constraint: x7 + x8 >= 1

Bear_Canton_Constraint: x23 + x24 + x25 >= 1

Science_related_Pieces_Constraint: x11 + x12 + x3 + x4 >= 1

Sculpture_Space_Constraint: x0 + x1 + x18 + x19 + x2 + x7 <= 4

Paintings,_Collages,_and_Drawings_Space_Constraint: x10 + x11 + x12 + x13
 + x14 + x15 + x16 + x17 + x20 + x21 + x22 + x23 + x24 + x25 + x26 + x27 + x28
 + x29 + x3 + x30 + x31 + x32 + x33 + x4 + x5 + x6 + x8 + x9 <= 20

Narcissism_Reflection_Constraint: x18 - x29 >= 0

Budget_Constraint: 300000 x0 + 250000 x1 + 150000 x10 + 650000 x11
 + 650000 x12 + 200000 x13 + 225000 x14 + 850000 x15 + 750000 x16 + 400000 x17
 + 175000 x18 + 450000 x19 + 125000 x2 + 500000 x20 + 500000 x21 + 500000 x22
 + 250000 x23 + 350000 x24 + 450000 x25 + 400000 x26 + 400000 x27 + 300000 x28
 + 300000 x29 + 400000 x3 + 50000 x30 + 50000 x31 + 50000 x32 + 50000 x33
 + 500000 x4 + 400000 x5 + 550000 x6 + 700000 x7 + 575000 x8 + 150000 x9
 <= 4000000

VARIABLES
0 <= x0 <= 1 Integer
0 <= x1 <= 1 Integer
0 <= x10 <= 1 Integer
0 <= x11 <= 1 Integer
0 <= x12 <= 1 Integer
0 <= x13 <= 1 Integer
0 <= x14 <= 1 Integer
0 <= x15 <= 1 Integer
0 <= x16 <= 1 Integer
0 <= x17 <= 1 Integer
0 <= x18 <= 1 Integer
0 <= x19 <= 1 Integer
0 <= x2 <= 1 Integer
0 <= x20 <= 1 Integer
0 <= x21 <= 1 Integer
0 <= x22 <= 1 Integer
0 <= x23 <= 1 Integer
0 <= x24 <= 1 Integer
0 <= x25 <= 1 Integer
0 <= x26 <= 1 Integer
0 <= x27 <= 1 Integer
0 <= x28 <= 1 Integer
0 <= x29 <= 1 Integer
0 <= x3 <= 1 Integer
0 <= x30 <= 1 Integer
0 <= x31 <= 1 Integer
0 <= x32 <= 1 Integer
0 <= x33 <= 1 Integer
0 <= x4 <= 1 Integer
0 <= x5 <= 1 Integer
0 <= x6 <= 1 Integer
0 <= x7 <= 1 Integer
0 <= x8 <= 1 Integer
0 <= x9 <= 1 Integer
0 <= y1 <= 1 Integer
0 <= y2 <= 1 Integer
```

Status: Optimal

Objective =  15.0


Selected Pieces:

| Artist         | Piece                 | Category  | Price  | Gender |
|----------------|-----------------------|-----------|--------|--------|
| Colin Zweibell | The Great Equalizer   | sculpture | 125000 | male   |
| Rita Losky     | Chaos Reigns          | drawing   | 400000 | female |
| Norm Marson    | Wasted Resources      | collage   | 575000 | male   |
| Robert Bayer   | Sun                   | painting  | 150000 | male   |
| Candy Tate     | Serenity              | painting  | 200000 | female |
| Candy Tate     | Calm Before the Storm | painting  | 225000 | female |
| David Lyman    | Harley                | painting  | 750000 | male   |
| Angie Oldman   | Reflection            | sculpture | 175000 | female |
| Rick Rawls     | Rick III              | painting  | 500000 | male   |
| Bear Canton    | Wisdom                | drawing   | 250000 | female |
| Helen Row      | Study of a Violin     | painting  | 400000 | female |
| Josh Riggs     | All That Glitters     | painting  | 50000  | male   |
| Josh Riggs     | The Rock              | painting  | 50000  | male   |
| Josh Riggs     | Winding Road          | painting  | 50000  | male   |
| Josh Riggs     | Dreams Come True      | painting  | 50000  | male   |


**Part 2 **

In this part the formulation of the problem is the same as the part 1, with the main difference being that we now need to display at least 20 pieces while minimizing the cost of the exhibit. To modify the existing code for this new problem, we will make the following changes:

- Update the objective function to minimize the total cost of the exhibit, instead of maximizing the number of artworks.
- Add a constraint to ensure that at least 20 pieces are displayed.

Here are the changes to the code:

```{r, eval=FALSE}
from pulp import *
from prettytable import PrettyTable

# Updated data

artists = [
    ("Colin Zweibell", "Perfection", 300000, "sculpture", "male"),
    ("Colin Zweibell", "Burden", 250000, "sculpture", "male"),
    ("Colin Zweibell", "The Great Equalizer", 125000, "sculpture", "male"),
    ("Rita Losky", "Chaos Reigns", 400000, "drawing", "female"),
    ("Rita Losky", "Who Has Control?", 500000, "drawing", "female"),
    ("Rita Losky", "Domestication", 400000, "drawing", "female"),
    ("Rita Losky", "Innocence", 550000, "drawing", "female"),
    ("Norm Marson", "Aging Earth", 700000, "sculpture", "male"),
    ("Norm Marson", "Wasted Resources", 575000, "collage", "male"),
    ("Robert Bayer", "Void", 150000, "painting", "male"),
    ("Robert Bayer", "Sun", 150000, "painting", "male"),
    ("Bill Reynolds", "Beyond", 650000, "painting", "male"),
    ("Bill Reynolds", "Pioneers", 650000, "painting", "male"),
    ("Candy Tate", "Serenity", 200000, "painting", "female"),
    ("Candy Tate", "Calm Before the Storm", 225000, "painting", "female"),
    ("David Lyman", "Storefront Window", 850000, "painting", "male"),
    ("David Lyman", "Harley", 750000, "painting", "male"),
    ("Angie Oldman", "Consumerism", 400000, "collage", "female"),
    ("Angie Oldman", "Reflection", 175000, "sculpture", "female"),
    ("Angie Oldman", "Trojan Victory", 450000, "sculpture", "female"),
    ("Rick Rawls", "Rick", 500000, "painting", "male"),
    ("Rick Rawls", "Rick II", 500000, "painting", "male"),
    ("Rick Rawls", "Rick III", 500000, "painting", "male"),
    ("Bear Canton", "Wisdom", 250000, "drawing", "female"),
    ("Bear Canton", "Superior Powers", 350000, "drawing", "female"),
    ("Bear Canton", "Living Land", 450000, "painting", "female"),
    ("Helen Row", "Study of a Violin", 400000, "painting", "female"),
    ("Helen Row", "Study of a Fruit Bowl", 400000, "painting", "female"),
    ("Ziggy Lite", "My Namesake", 300000, "collage", "male"),
    ("Ziggy Lite", "Narcissism", 300000, "collage", "male"),
    ("Josh Riggs", "All That Glitters", 50000, "painting", "male"),
    ("Josh Riggs", "The Rock", 50000, "painting", "male"),
    ("Josh Riggs", "Winding Road", 50000, "painting", "male"),
    ("Josh Riggs", "Dreams Come True", 50000, "painting", "male")
]

x = [LpVariable(f'x{i}', lowBound = 0, upBound = 1, cat='Integer') 
     for i in range(len(artists))]

# Initialize the problem
prob = LpProblem("Art_Gallery_Problem", LpMinimize)


# Objective Function

prob += lpSum(cost * x[i] for i, (_, _, cost, _, _) 
              in enumerate(artists)), "Minimize cost of exhibit"

# Artistic constraints

#  Include only one collage

prob += x[8] + x[17] + x[28] + x[29] == 1, "Collage Constraint"

# Add binary variables for computer-generated drawings and wire mesh sculptures
y1 = LpVariable("y1", lowBound = 0, upBound = 1, cat='Integer')
y2 = LpVariable("y2", lowBound = 0, upBound = 1, cat='Integer')

bigM = 1000000 

# a. x1 + x2 + x3 <= bigM * y2
prob += x[0] + x[1] + x[2] <= bigM * y2

# b. x1 + x2 + x3 >= y2
prob += x[0] + x[1] + x[2] >= y2

# c. x4 + x5 <= bigM * y1
prob += x[3] + x[4] <= bigM * y1

# d. x4 + x5 >= y1
prob +=  x[3] + x[4] >= y1

# 2. y2 + (1 - y1) <= 1
prob += y2 + (1 - y1) <= 1

# 3. y1 + (1 - y2) <= 1
prob += y1 + (1 - y2) <= 1


# Include at least one photo-realistic painting, at least one cubist painting,
# at least one expressionist painting, at least one watercolor painting,
# and at least one oil painting
# Photo-realistic painting
prob += x[15] + x[16] + x[20] >= 1, "Photo-realistic Painting Constraint"

# Cubist painting
prob += x[21] + x[26] + x[27] >= 1, "Cubist Painting Constraint"

# Expressionist painting
prob += x[22] == 1, "Expressionist Painting Constraint"

# Watercolor painting
prob += x[13] + x[14] + x[30] + x[31] + x[32] + x[33] >= 1, "Watercolor Painting "

# Oil painting
prob += x[9] + x[10] + x[11] + x[12] + x[25] >= 1, "Oil Painting Constraint"

# The number of paintings should be no greater than twice the number of other art forms
paintings = (x[9] + x[10] + x[11] + x[12] + x[13] + x[14] + x[15] + x[16] + x[20]
            + x[21] + x[22]  + x[25] + x[26] + x[27] + x[30] + x[31] + x[32] + x[33])
other_art_forms = (x[0] + x[1] + x[2] + x[3] + x[4] + x[5] + x[6] + x[7] + x[8]
                  + x[17] + x[18] + x[19] + x[23] + x[24]+ x[28] + x[29])
prob += paintings <= 2 * other_art_forms, "Paintings vs Other Art Forms Constraint"

# Include all Josh's paintings in the exhibit
prob += x[30] + x[31] + x[32] + x[33] == 4, "Josh's Paintings Constraint"

#  Display both of Candy Tate's paintings
prob += x[13] + x[14] == 2, "Candy Tate's Paintings Constraint"

# Display as many pieces from David Lyman as from Rick Rawls, and at
# least one piece from each of them
prob += x[15] + x[16] - x[20] - x[21] - x[22] == 0, "David Lyman and Rick Rawls Constraint"
prob += x[15] + x[16] >= 1, "David Lyman Constraint"
prob += x[20] + x[21] + x[22] >= 1, "Rick Rawls Constraint"

#  Display at most one piece from Ziggy Lite
prob += x[28] + x[29] <= 1, "Ziggy Lite Constraint"

#  Include at least one piece from a female artist for every two pieces included
#from a male artist
female_artists = (x[3] + x[4] + x[5] + x[6] + x[13] + x[14] + x[17]
                + x[18] + x[19] + x[23] + x[24] + x[25] + x[26] + x[27])
male_artists = (x[0] + x[1] + x[2] + x[7] + x[8] + x[9] + x[10] + x[11]
                + x[12] + x[15] + x[16] + x[20] + x[21] + x[22] + x[28]
                + x[29] + x[30] + x[31] + x[32] + x[33])
prob += female_artists * 2 >= male_artists, "Gender Ratio Constraint"

#  Include either one or both of the pieces "Aging Earth" and "Wasted Resources"
prob += x[7] + x[8] >= 1, "Environmental Pieces Constraint"

#  Include at least one piece by Bear Canton
prob += x[23] + x[24] + x[25] >= 1, "Bear Canton Constraint"

#  Include at least one of the following pieces: "Chaos Reigns," "Who Has Control,
# " "Beyond," and "Pioneers."
prob += x[3] + x[4] + x[11] + x[12] >= 1, "Science-related Pieces Constraint"

#  The museum has enough floor space for four sculptures and enough wall space 
# for 20 paintings, collages, and drawings.
sculptures = x[0] + x[1] + x[2] + x[7] + x[18] + x[19]
paintings_drawings_collages = (x[3] + x[4] + x[5] + x[6] + x[8] + x[9]
                               + x[10] + x[11] + x[12] + x[13] + x[14]
                               + x[15] + x[16] + x[17] + x[20] + x[21]
                               + x[22] + x[23] + x[24] + x[25] + x[26]
                               + x[27] + x[28] + x[29] + x[30] + x[31]
                               + x[32] + x[33])
prob += sculptures <= 4, "Sculpture Space Constraint"
prob += paintings_drawings_collages <= 20, "Paintings, Collages, and Drawings Space"

#  If "Narcissism" is displayed, "Reflection" should also be displayed.
prob += x[18] >= x[29], "Narcissism-Reflection Constraint"

# At least 20 pieces constraint
prob += lpSum(x) >= 20, "At least 20 pieces"


# Display the results

print(prob)

prob.solve()

print("Status:", LpStatus[prob.status])

print("Objective = ", value(prob.objective))
print("\nSelected Pieces:")

table = PrettyTable()
table.field_names = ["Artist", "Piece", "Category", "Price", "Gender"]

for i, var in enumerate(x):
    if value(var) > 0:
        artist, piece, price, category, gender = artists[i]
        table.add_row([artist, piece, category, price, gender])

print(table)
```

Bellow are the results after executing the code in Python:

```{r, eval=FALSE}
Art_Gallery_Problem:
MINIMIZE
300000*x0 + 250000*x1 + 150000*x10 + 650000*x11 + 650000*x12 + 200000*x13 + 225000*x14
+ 850000*x15 + 750000*x16 + 400000*x17 + 175000*x18 + 450000*x19 + 125000*x2 +
  500000*x20 + 500000*x21 + 500000*x22 + 250000*x23 + 350000*x24 + 450000*x25 + 
  400000*x26 + 400000*x27 + 300000*x28 + 300000*x29 + 400000*x3 + 50000*x30 + 
  50000*x31 + 50000*x32 + 50000*x33 + 500000*x4 + 400000*x5 + 550000*x6 + 700000*x7
+ 575000*x8 + 150000*x9 + 0

SUBJECT TO
Collage_Constraint: x17 + x28 + x29 + x8 = 1

_C1: x0 + x1 + x2 - 1000000 y2 <= 0

_C2: x0 + x1 + x2 - y2 >= 0

_C3: x3 + x4 - 1000000 y1 <= 0

_C4: x3 + x4 - y1 >= 0

_C5: - y1 + y2 <= 0

_C6: y1 - y2 <= 0

Photo_realistic_Painting_Constraint: x15 + x16 + x20 >= 1

Cubist_Painting_Constraint: x21 + x26 + x27 >= 1

Expressionist_Painting_Constraint: x22 = 1

Watercolor_Painting_Constraint: x13 + x14 + x30 + x31 + x32 + x33 >= 1

Oil_Painting_Constraint: x10 + x11 + x12 + x25 + x9 >= 1

Paintings_vs_Other_Art_Forms_Constraint: - 2 x0 - 2 x1 + x10 + x11 + x12 + x13
 + x14 + x15 + x16 - 2 x17 - 2 x18 - 2 x19 - 2 x2 + x20 + x21 + x22 - 2 x23
 - 2 x24 + x25 + x26 + x27 - 2 x28 - 2 x29 - 2 x3 + x30 + x31 + x32 + x33
 - 2 x4 - 2 x5 - 2 x6 - 2 x7 - 2 x8 + x9 <= 0

Josh's_Paintings_Constraint: x30 + x31 + x32 + x33 = 4

Candy_Tate's_Paintings_Constraint: x13 + x14 = 2

David_Lyman_and_Rick_Rawls_Constraint: x15 + x16 - x20 - x21 - x22 = 0

David_Lyman_Constraint: x15 + x16 >= 1

Rick_Rawls_Constraint: x20 + x21 + x22 >= 1

Ziggy_Lite_Constraint: x28 + x29 <= 1

Gender_Ratio_Constraint: - x0 - x1 - x10 - x11 - x12 + 2 x13 + 2 x14 - x15
 - x16 + 2 x17 + 2 x18 + 2 x19 - x2 - x20 - x21 - x22 + 2 x23 + 2 x24 + 2 x25
 + 2 x26 + 2 x27 - x28 - x29 + 2 x3 - x30 - x31 - x32 - x33 + 2 x4 + 2 x5
 + 2 x6 - x7 - x8 - x9 >= 0

Environmental_Pieces_Constraint: x7 + x8 >= 1

Bear_Canton_Constraint: x23 + x24 + x25 >= 1

Science_related_Pieces_Constraint: x11 + x12 + x3 + x4 >= 1

Sculpture_Space_Constraint: x0 + x1 + x18 + x19 + x2 + x7 <= 4

Paintings,_Collages,_and_Drawings_Space_Constraint: x10 + x11 + x12 + x13
 + x14 + x15 + x16 + x17 + x20 + x21 + x22 + x23 + x24 + x25 + x26 + x27 + x28
 + x29 + x3 + x30 + x31 + x32 + x33 + x4 + x5 + x6 + x8 + x9 <= 20

Narcissism_Reflection_Constraint: x18 - x29 >= 0

At_least_20_pieces: x0 + x1 + x10 + x11 + x12 + x13 + x14 + x15 + x16 + x17
 + x18 + x19 + x2 + x20 + x21 + x22 + x23 + x24 + x25 + x26 + x27 + x28 + x29
 + x3 + x30 + x31 + x32 + x33 + x4 + x5 + x6 + x7 + x8 + x9 >= 20

VARIABLES
0 <= x0 <= 1 Integer
0 <= x1 <= 1 Integer
0 <= x10 <= 1 Integer
0 <= x11 <= 1 Integer
0 <= x12 <= 1 Integer
0 <= x13 <= 1 Integer
0 <= x14 <= 1 Integer
0 <= x15 <= 1 Integer
0 <= x16 <= 1 Integer
0 <= x17 <= 1 Integer
0 <= x18 <= 1 Integer
0 <= x19 <= 1 Integer
0 <= x2 <= 1 Integer
0 <= x20 <= 1 Integer
0 <= x21 <= 1 Integer
0 <= x22 <= 1 Integer
0 <= x23 <= 1 Integer
0 <= x24 <= 1 Integer
0 <= x25 <= 1 Integer
0 <= x26 <= 1 Integer
0 <= x27 <= 1 Integer
0 <= x28 <= 1 Integer
0 <= x29 <= 1 Integer
0 <= x3 <= 1 Integer
0 <= x30 <= 1 Integer
0 <= x31 <= 1 Integer
0 <= x32 <= 1 Integer
0 <= x33 <= 1 Integer
0 <= x4 <= 1 Integer
0 <= x5 <= 1 Integer
0 <= x6 <= 1 Integer
0 <= x7 <= 1 Integer
0 <= x8 <= 1 Integer
0 <= x9 <= 1 Integer
0 <= y1 <= 1 Integer
0 <= y2 <= 1 Integer
```

Status: Optimal

Objective =  5400000.0

Selected Pieces:


| Artist         | Piece               | Category | Price  | Gender |
|----------------|---------------------|----------|--------|--------|
| Colin Zweibell | Perfection          | sculpture| 300000 | male   |
| Colin Zweibell | Burden              | sculpture| 250000 | male   |
| Colin Zweibell | The Great Equalizer | sculpture| 125000 | male   |
| Rita Losky     | Chaos Reigns        | drawing  | 400000 | female |
| Rita Losky     | Domestication       | drawing  | 400000 | female |
| Norm Marson    | Wasted Resources    | collage  | 575000 | male   |
| Robert Bayer   | Void                | painting | 150000 | male   |
| Robert Bayer   | Sun                 | painting | 150000 | male   |
| Candy Tate     | Serenity            | painting | 200000 | female |
| Candy Tate     | Calm Before the Storm | painting  | 225000 | female |
| David Lyman    | Harley              | painting | 750000 | male   |
| Angie Oldman   | Reflection          | sculpture| 175000 | female |
| Rick Rawls     | Rick III            | painting | 500000 | male   |
| Bear Canton    | Wisdom              | drawing  | 250000 | female |
| Bear Canton    | Superior Powers     | drawing  | 350000 | female |
| Helen Row      | Study of a Violin   | painting | 400000 | female |
| Josh Riggs     | All That Glitters   | painting | 50000  | male   |
| Josh Riggs     | The Rock            | painting | 50000  | male   |
| Josh Riggs     | Winding Road        | painting | 50000  | male   |
| Josh Riggs     | Dreams Come True    | painting | 50000  | male   |


The results of the binary integer programming model show that it is possible to meet all the constraints set by Josh and Celeste while minimizing the total cost of the exhibit. The optimal solution displays 20 pieces of art with a total cost of $5,400,000.

In this solution, the exhibit achieves a diverse representation of artists and art forms. It features 7 paintings, 5 drawings, 3 sculptures, and 1 collage, ensuring that all categories are well-represented. Furthermore, the exhibit maintains a balance between male and female artists, with 11 pieces by male artists and 9 by female artists.

**Part 3**

This is still a minimization problem, to solve this new problem we we will modify the Binary Integer Programming (BIP) model that we created in Part 2. The new conditions imposed by the influential patron are:

* All of Rita Losky's pieces must be displayed.
* The patron will pay the minimum amount required on top of Josh's $4 million.
We will incorporate these constraints into the BIP model as follows:
* Add a constraint that ensures all of Rita Losky's pieces are included in the selection.
* Recalculate the objective function to determine the total cost of the exhibit, including the additional funds contributed by the patron.

Once we have adjusted the BIP model, we will solve it again to determine the optimal solution that satisfies the new requirements. We will then interpret the results to find out how much the patron needs to pay and which pieces will be displayed in the exhibit.

```{r, eval=FALSE}
from pulp import *
from prettytable import PrettyTable

# Updated data

artists = [
    ("Colin Zweibell", "Perfection", 300000, "sculpture", "male"),
    ("Colin Zweibell", "Burden", 250000, "sculpture", "male"),
    ("Colin Zweibell", "The Great Equalizer", 125000, "sculpture", "male"),
    ("Rita Losky", "Chaos Reigns", 400000, "drawing", "female"),
    ("Rita Losky", "Who Has Control?", 500000, "drawing", "female"),
    ("Rita Losky", "Domestication", 400000, "drawing", "female"),
    ("Rita Losky", "Innocence", 550000, "drawing", "female"),
    ("Norm Marson", "Aging Earth", 700000, "sculpture", "male"),
    ("Norm Marson", "Wasted Resources", 575000, "collage", "male"),
    ("Robert Bayer", "Void", 150000, "painting", "male"),
    ("Robert Bayer", "Sun", 150000, "painting", "male"),
    ("Bill Reynolds", "Beyond", 650000, "painting", "male"),
    ("Bill Reynolds", "Pioneers", 650000, "painting", "male"),
    ("Candy Tate", "Serenity", 200000, "painting", "female"),
    ("Candy Tate", "Calm Before the Storm", 225000, "painting", "female"),
    ("David Lyman", "Storefront Window", 850000, "painting", "male"),
    ("David Lyman", "Harley", 750000, "painting", "male"),
    ("Angie Oldman", "Consumerism", 400000, "collage", "female"),
    ("Angie Oldman", "Reflection", 175000, "sculpture", "female"),
    ("Angie Oldman", "Trojan Victory", 450000, "sculpture", "female"),
    ("Rick Rawls", "Rick", 500000, "painting", "male"),
    ("Rick Rawls", "Rick II", 500000, "painting", "male"),
    ("Rick Rawls", "Rick III", 500000, "painting", "male"),
    ("Bear Canton", "Wisdom", 250000, "drawing", "female"),
    ("Bear Canton", "Superior Powers", 350000, "drawing", "female"),
    ("Bear Canton", "Living Land", 450000, "painting", "female"),
    ("Helen Row", "Study of a Violin", 400000, "painting", "female"),
    ("Helen Row", "Study of a Fruit Bowl", 400000, "painting", "female"),
    ("Ziggy Lite", "My Namesake", 300000, "collage", "male"),
    ("Ziggy Lite", "Narcissism", 300000, "collage", "male"),
    ("Josh Riggs", "All That Glitters", 50000, "painting", "male"),
    ("Josh Riggs", "The Rock", 50000, "painting", "male"),
    ("Josh Riggs", "Winding Road", 50000, "painting", "male"),
    ("Josh Riggs", "Dreams Come True", 50000, "painting", "male")
]

x = [LpVariable(f'x{i}', lowBound = 0, upBound = 1, cat='Integer') 
     for i in range(len(artists))]

# Initialize the problem
prob = LpProblem("Art_Gallery_Problem", LpMinimize)


# Objective Function

prob += lpSum(cost * x[i] for i, (_, _, cost, _, _) 
              in enumerate(artists)), "Minimize cost of exhibit"

# Artistic constraints

#  Include only one collage

prob += x[8] + x[17] + x[28] + x[29] == 1, "Collage Constraint"

# Add binary variables for computer-generated drawings and wire mesh sculptures
y1 = LpVariable("y1", lowBound = 0, upBound = 1, cat='Integer')
y2 = LpVariable("y2", lowBound = 0, upBound = 1, cat='Integer')

bigM = 1000000 

# a. x1 + x2 + x3 <= bigM * y2
prob += x[0] + x[1] + x[2] <= bigM * y2

# b. x1 + x2 + x3 >= y2
prob += x[0] + x[1] + x[2] >= y2

# c. x4 + x5 <= bigM * y1
prob += x[3] + x[4] <= bigM * y1

# d. x4 + x5 >= y1
prob +=  x[3] + x[4] >= y1

# 2. y2 + (1 - y1) <= 1
prob += y2 + (1 - y1) <= 1

# 3. y1 + (1 - y2) <= 1
prob += y1 + (1 - y2) <= 1


# Include at least one photo-realistic painting, at least one cubist painting,
# at least one expressionist painting, at least one watercolor painting,
# and at least one oil painting
# Photo-realistic painting
prob += x[15] + x[16] + x[20] >= 1, "Photo-realistic Painting Constraint"

# Cubist painting
prob += x[21] + x[26] + x[27] >= 1, "Cubist Painting Constraint"

# Expressionist painting
prob += x[22] == 1, "Expressionist Painting Constraint"

# Watercolor painting
prob += x[13] + x[14] + x[30] + x[31] + x[32] + x[33] >= 1, "Watercolor Painting "

# Oil painting
prob += x[9] + x[10] + x[11] + x[12] + x[25] >= 1, "Oil Painting Constraint"

# The number of paintings should be no greater than twice the number of other art forms
paintings = (x[9] + x[10] + x[11] + x[12] + x[13] + x[14] + x[15] + x[16] + x[20]
            + x[21] + x[22]  + x[25] + x[26] + x[27] + x[30] + x[31] + x[32] + x[33])
other_art_forms = (x[0] + x[1] + x[2] + x[3] + x[4] + x[5] + x[6] + x[7] + x[8]
                  + x[17] + x[18] + x[19] + x[23] + x[24]+ x[28] + x[29])
prob += paintings <= 2 * other_art_forms, "Paintings vs Other Art Forms Constraint"

# Include all Josh's paintings in the exhibit
prob += x[30] + x[31] + x[32] + x[33] == 4, "Josh's Paintings Constraint"

#  Display both of Candy Tate's paintings
prob += x[13] + x[14] == 2, "Candy Tate's Paintings Constraint"

# Display as many pieces from David Lyman as from Rick Rawls, and at
# least one piece from each of them
prob += x[15] + x[16] - x[20] - x[21] - x[22] == 0, "David Lyman and Rick Rawls Constraint"
prob += x[15] + x[16] >= 1, "David Lyman Constraint"
prob += x[20] + x[21] + x[22] >= 1, "Rick Rawls Constraint"

#  Display at most one piece from Ziggy Lite
prob += x[28] + x[29] <= 1, "Ziggy Lite Constraint"

#  Include at least one piece from a female artist for every two pieces included
#from a male artist
female_artists = (x[3] + x[4] + x[5] + x[6] + x[13] + x[14] + x[17]
                + x[18] + x[19] + x[23] + x[24] + x[25] + x[26] + x[27])
male_artists = (x[0] + x[1] + x[2] + x[7] + x[8] + x[9] + x[10] + x[11]
                + x[12] + x[15] + x[16] + x[20] + x[21] + x[22] + x[28]
                + x[29] + x[30] + x[31] + x[32] + x[33])
prob += female_artists * 2 >= male_artists, "Gender Ratio Constraint"

#  Include either one or both of the pieces "Aging Earth" and "Wasted Resources"
prob += x[7] + x[8] >= 1, "Environmental Pieces Constraint"

#  Include at least one piece by Bear Canton
prob += x[23] + x[24] + x[25] >= 1, "Bear Canton Constraint"

#  Include at least one of the following pieces: "Chaos Reigns," "Who Has Control,
# " "Beyond," and "Pioneers."
prob += x[3] + x[4] + x[11] + x[12] >= 1, "Science-related Pieces Constraint"

#  The museum has enough floor space for four sculptures and enough wall space 
# for 20 paintings, collages, and drawings.
sculptures = x[0] + x[1] + x[2] + x[7] + x[18] + x[19]
paintings_drawings_collages = (x[3] + x[4] + x[5] + x[6] + x[8] + x[9]
                               + x[10] + x[11] + x[12] + x[13] + x[14]
                               + x[15] + x[16] + x[17] + x[20] + x[21]
                               + x[22] + x[23] + x[24] + x[25] + x[26]
                               + x[27] + x[28] + x[29] + x[30] + x[31]
                               + x[32] + x[33])
prob += sculptures <= 4, "Sculpture Space Constraint"
prob += paintings_drawings_collages <= 20, "Paintings, Collages, and Drawings Space"

#  If "Narcissism" is displayed, "Reflection" should also be displayed.
prob += x[18] >= x[29], "Narcissism-Reflection Constraint"

prob += x[3] + x[4] + x[5] + x[6] == 4, "Rita's pieces"

# At least 20 pieces constraint
prob += lpSum(x) >= 20, "At least 20 pieces"


# Display the results

print(prob)

prob.solve()

print("Status:", LpStatus[prob.status])

print("Objective = ", value(prob.objective))
print("\nSelected Pieces:")

table = PrettyTable()
table.field_names = ["Artist", "Piece", "Category", "Price", "Gender"]

for i, var in enumerate(x):
    if value(var) > 0:
        artist, piece, price, category, gender = artists[i]
        table.add_row([artist, piece, category, price, gender])

print(table)
```

Here are the results after running the model in Python.

```{r, eval=FALSE}
Art_Gallery_Problem:
  
MINIMIZE
300000*x0 + 250000*x1 + 150000*x10 + 650000*x11 + 650000*x12 + 200000*x13 + 225000*x14
+ 850000*x15 + 750000*x16 + 400000*x17 + 175000*x18 + 450000*x19 + 125000*x2 +
  500000*x20 + 500000*x21 + 500000*x22 + 250000*x23 + 350000*x24 + 450000*x25 + 
  400000*x26 + 400000*x27 + 300000*x28 + 300000*x29 + 400000*x3 + 50000*x30 + 
  50000*x31 + 50000*x32 + 50000*x33 + 500000*x4 + 400000*x5 + 550000*x6 + 700000*x7
+ 575000*x8 + 150000*x9 + 0

SUBJECT TO
Collage_Constraint: x17 + x28 + x29 + x8 = 1

_C1: x0 + x1 + x2 - 1000000 y2 <= 0

_C2: x0 + x1 + x2 - y2 >= 0

_C3: x3 + x4 - 1000000 y1 <= 0

_C4: x3 + x4 - y1 >= 0

_C5: - y1 + y2 <= 0

_C6: y1 - y2 <= 0

Photo_realistic_Painting_Constraint: x15 + x16 + x20 >= 1

Cubist_Painting_Constraint: x21 + x26 + x27 >= 1

Expressionist_Painting_Constraint: x22 = 1

Watercolor_Painting_Constraint: x13 + x14 + x30 + x31 + x32 + x33 >= 1

Oil_Painting_Constraint: x10 + x11 + x12 + x25 + x9 >= 1

Paintings_vs_Other_Art_Forms_Constraint: - 2 x0 - 2 x1 + x10 + x11 + x12 + x13
 + x14 + x15 + x16 - 2 x17 - 2 x18 - 2 x19 - 2 x2 + x20 + x21 + x22 - 2 x23
 - 2 x24 + x25 + x26 + x27 - 2 x28 - 2 x29 - 2 x3 + x30 + x31 + x32 + x33
 - 2 x4 - 2 x5 - 2 x6 - 2 x7 - 2 x8 + x9 <= 0

Josh's_Paintings_Constraint: x30 + x31 + x32 + x33 = 4

Candy_Tate's_Paintings_Constraint: x13 + x14 = 2

David_Lyman_and_Rick_Rawls_Constraint: x15 + x16 - x20 - x21 - x22 = 0

David_Lyman_Constraint: x15 + x16 >= 1

Rick_Rawls_Constraint: x20 + x21 + x22 >= 1

Ziggy_Lite_Constraint: x28 + x29 <= 1

Gender_Ratio_Constraint: - x0 - x1 - x10 - x11 - x12 + 2 x13 + 2 x14 - x15
 - x16 + 2 x17 + 2 x18 + 2 x19 - x2 - x20 - x21 - x22 + 2 x23 + 2 x24 + 2 x25
 + 2 x26 + 2 x27 - x28 - x29 + 2 x3 - x30 - x31 - x32 - x33 + 2 x4 + 2 x5
 + 2 x6 - x7 - x8 - x9 >= 0

Environmental_Pieces_Constraint: x7 + x8 >= 1

Bear_Canton_Constraint: x23 + x24 + x25 >= 1

Science_related_Pieces_Constraint: x11 + x12 + x3 + x4 >= 1

Sculpture_Space_Constraint: x0 + x1 + x18 + x19 + x2 + x7 <= 4

Paintings,_Collages,_and_Drawings_Space_Constraint: x10 + x11 + x12 + x13
 + x14 + x15 + x16 + x17 + x20 + x21 + x22 + x23 + x24 + x25 + x26 + x27 + x28
 + x29 + x3 + x30 + x31 + x32 + x33 + x4 + x5 + x6 + x8 + x9 <= 20

Narcissism_Reflection_Constraint: x18 - x29 >= 0

Rita's_pieces: x3 + x4 + x5 + x6 = 4

At_least_20_pieces: x0 + x1 + x10 + x11 + x12 + x13 + x14 + x15 + x16 + x17
 + x18 + x19 + x2 + x20 + x21 + x22 + x23 + x24 + x25 + x26 + x27 + x28 + x29
 + x3 + x30 + x31 + x32 + x33 + x4 + x5 + x6 + x7 + x8 + x9 >= 20

VARIABLES
0 <= x0 <= 1 Integer
0 <= x1 <= 1 Integer
0 <= x10 <= 1 Integer
0 <= x11 <= 1 Integer
0 <= x12 <= 1 Integer
0 <= x13 <= 1 Integer
0 <= x14 <= 1 Integer
0 <= x15 <= 1 Integer
0 <= x16 <= 1 Integer
0 <= x17 <= 1 Integer
0 <= x18 <= 1 Integer
0 <= x19 <= 1 Integer
0 <= x2 <= 1 Integer
0 <= x20 <= 1 Integer
0 <= x21 <= 1 Integer
0 <= x22 <= 1 Integer
0 <= x23 <= 1 Integer
0 <= x24 <= 1 Integer
0 <= x25 <= 1 Integer
0 <= x26 <= 1 Integer
0 <= x27 <= 1 Integer
0 <= x28 <= 1 Integer
0 <= x29 <= 1 Integer
0 <= x3 <= 1 Integer
0 <= x30 <= 1 Integer
0 <= x31 <= 1 Integer
0 <= x32 <= 1 Integer
0 <= x33 <= 1 Integer
0 <= x4 <= 1 Integer
0 <= x5 <= 1 Integer
0 <= x6 <= 1 Integer
0 <= x7 <= 1 Integer
0 <= x8 <= 1 Integer
0 <= x9 <= 1 Integer
0 <= y1 <= 1 Integer
0 <= y2 <= 1 Integer
```

Status: Optimal

Objective =  5800000.0

\vspace{2.5cm}



Selected Pieces:

| Artist        | Piece                | Category  | Price  | Gender |
|---------------|----------------------|-----------|--------|--------|
| Colin Zweibell| Burden               | sculpture | 250000 | male   |
| Colin Zweibell| The Great Equalizer  | sculpture | 125000 | male   |
| Rita Losky    | Chaos Reigns         | drawing   | 400000 | female |
| Rita Losky    | Who Has Control?     | drawing   | 500000 | female |
| Rita Losky    | Domestication        | drawing   | 400000 | female |
| Rita Losky    | Innocence            | drawing   | 550000 | female |
| Norm Marson   | Wasted Resources     | collage   | 575000 | male   |
| Robert Bayer  | Void                 | painting  | 150000 | male   |
| Robert Bayer  | Sun                  | painting  | 150000 | male   |
| Candy Tate    | Serenity             | painting  | 200000 | female |
| Candy Tate    | Calm Before the Storm| painting  | 225000 | female |
| David Lyman   | Harley               | painting  | 750000 | male   |
| Angie Oldman  | Reflection           | sculpture | 175000 | female |
| Rick Rawls    | Rick III             | painting  | 500000 | male   |
| Bear Canton   | Wisdom               | drawing   | 250000 | female |
| Helen Row     | Study of a Violin    | painting  | 400000 | female |
| Josh Riggs    | All That Glitters    | painting  | 50000  | male   |
| Josh Riggs    | The Rock             | painting  | 50000  | male   |
| Josh Riggs    | Winding Road         | painting  | 50000  | male   |
| Josh Riggs    | Dreams Come True     | painting  | 50000  | male   |


The results indicate that to meet the new requirements, including displaying all of Rita Losky's pieces and having exactly 20 pieces in the exhibit, the total cost of the exhibit is now \$5,800,000. Since Josh is already contributing $4,000,000, the influential patron who chairs the Museum Board of Directors has to pay an additional \$1,800,000 to make up the difference.

The table of selected pieces shows the 20 artworks that will be displayed in the exhibit, including all of Rita Losky's pieces as required. The exhibit contains a diverse collection of art, with various artists, categories, prices, and genders represented. The pieces were chosen to minimize the total cost while still meeting the requirements set by Josh, Celeste, and the influential patron.




